{
	"info": {
		"_postman_id": "27be4932-76f8-410c-9127-1642b3853621",
		"name": "SWAPI API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "GET Planet 1",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b19942d9-a929-4169-ae59-1f82bbca88cd",
						"type": "text/javascript",
						"exec": [
							"var jsonData = pm.response.json();",
							"",
							"pm.test(\"Assert planet 1 is Totooine\", function () {",
							"    pm.expect(jsonData.name).to.eql('Tatooine');",
							"});",
							"",
							"pm.test(\"Assert planet 1 is Totooine\", function () {",
							"    pm.expect(jsonData.residents.length).to.equal(10);",
							"});",
							"",
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test('Schema is valid', function() {",
							"  pm.expect(tv4.validate(jsonData, pm.globals.get(\"jsonSchema\"))).to.be.true;",
							"});",
							"",
							"//set url to get first Person in array",
							"pm.globals.set(\"person1\", jsonData.residents[0]);",
							"//set planet1 url from result",
							"pm.globals.set(\"tatooine\", jsonData.url);",
							"",
							""
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "a42682ea-ba88-48b4-bbd8-1397cc3ecc1e",
						"type": "text/javascript",
						"exec": [
							"var jsonSchema = {",
							"  \"$id\": \"http://example.com/example.json\",",
							"  \"type\": \"object\",",
							"  \"definitions\": {},",
							"  \"$schema\": \"http://json-schema.org/draft-07/schema#\",",
							"  \"properties\": {",
							"    \"name\": {",
							"      \"$id\": \"/properties/name\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Name Schema \",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"Tatooine\"",
							"      ]",
							"    },",
							"    \"rotation_period\": {",
							"      \"$id\": \"/properties/rotation_period\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Rotation_period Schema \",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"23\"",
							"      ]",
							"    },",
							"    \"orbital_period\": {",
							"      \"$id\": \"/properties/orbital_period\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Orbital_period Schema \",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"304\"",
							"      ]",
							"    },",
							"    \"diameter\": {",
							"      \"$id\": \"/properties/diameter\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Diameter Schema \",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"10465\"",
							"      ]",
							"    },",
							"    \"climate\": {",
							"      \"$id\": \"/properties/climate\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Climate Schema \",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"arid\"",
							"      ]",
							"    },",
							"    \"gravity\": {",
							"      \"$id\": \"/properties/gravity\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Gravity Schema \",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"1 standard\"",
							"      ]",
							"    },",
							"    \"terrain\": {",
							"      \"$id\": \"/properties/terrain\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Terrain Schema \",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"desert\"",
							"      ]",
							"    },",
							"    \"surface_water\": {",
							"      \"$id\": \"/properties/surface_water\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Surface_water Schema \",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"1\"",
							"      ]",
							"    },",
							"    \"population\": {",
							"      \"$id\": \"/properties/population\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Population Schema \",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"200000\"",
							"      ]",
							"    },",
							"    \"residents\": {",
							"      \"$id\": \"/properties/residents\",",
							"      \"type\": \"array\",",
							"      \"items\": {",
							"        \"$id\": \"/properties/residents/items\",",
							"        \"type\": \"string\",",
							"        \"title\": \"The 0th Schema \",",
							"        \"default\": \"\",",
							"        \"examples\": [",
							"          \"https://swapi.co/api/people/1/\",",
							"          \"https://swapi.co/api/people/2/\",",
							"          \"https://swapi.co/api/people/4/\",",
							"          \"https://swapi.co/api/people/6/\",",
							"          \"https://swapi.co/api/people/7/\",",
							"          \"https://swapi.co/api/people/8/\",",
							"          \"https://swapi.co/api/people/9/\",",
							"          \"https://swapi.co/api/people/11/\",",
							"          \"https://swapi.co/api/people/43/\",",
							"          \"https://swapi.co/api/people/62/\"",
							"        ]",
							"      }",
							"    },",
							"    \"films\": {",
							"      \"$id\": \"/properties/films\",",
							"      \"type\": \"array\",",
							"      \"items\": {",
							"        \"$id\": \"/properties/films/items\",",
							"        \"type\": \"string\",",
							"        \"title\": \"The 0th Schema \",",
							"        \"default\": \"\",",
							"        \"examples\": [",
							"          \"https://swapi.co/api/films/5/\",",
							"          \"https://swapi.co/api/films/4/\",",
							"          \"https://swapi.co/api/films/6/\",",
							"          \"https://swapi.co/api/films/3/\",",
							"          \"https://swapi.co/api/films/1/\"",
							"        ]",
							"      }",
							"    },",
							"    \"created\": {",
							"      \"$id\": \"/properties/created\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Created Schema \",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"2014-12-09T13:50:49.641000Z\"",
							"      ]",
							"    },",
							"    \"edited\": {",
							"      \"$id\": \"/properties/edited\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Edited Schema \",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"2014-12-21T20:48:04.175778Z\"",
							"      ]",
							"    },",
							"    \"url\": {",
							"      \"$id\": \"/properties/url\",",
							"      \"type\": \"string\",",
							"      \"title\": \"The Url Schema \",",
							"      \"default\": \"\",",
							"      \"examples\": [",
							"        \"https://swapi.co/api/planets/1/\"",
							"      ]",
							"    }",
							"  },",
							"  \"required\": [",
							"    \"name\",",
							"    \"rotation_period\",",
							"    \"orbital_period\",",
							"    \"diameter\",",
							"    \"climate\",",
							"    \"gravity\",",
							"    \"terrain\",",
							"    \"surface_water\",",
							"    \"population\",",
							"    \"residents\",",
							"    \"films\",",
							"    \"created\",",
							"    \"edited\",",
							"    \"url\"",
							"  ]",
							"};",
							"",
							"pm.globals.set(\"jsonSchema\", jsonSchema);",
							""
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "accept-language",
						"value": "en-US,en;q=0.9"
					}
				],
				"body": {},
				"url": {
					"raw": "https://swapi.co/api/planets/1/",
					"protocol": "https",
					"host": [
						"swapi",
						"co"
					],
					"path": [
						"api",
						"planets",
						"1",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "GET Person 1",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d8f05950-f16c-4998-99d9-d94069d6980f",
						"type": "text/javascript",
						"exec": [
							"var jsonData = pm.response.json();",
							"pm.test(\"Assert person 1 is Luke Skywalker\", function () {",
							"    pm.expect(jsonData.name).to.eql('Luke Skywalker');",
							"});",
							"",
							"pm.test(\"Assert home planet is Totooine\", function () {",
							"    pm.expect(jsonData.homeworld).to.equal(pm.globals.get(\"tatooine\"));",
							"});",
							"",
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test('Schema is valid', function() {",
							"  pm.expect(tv4.validate(jsonData, pm.globals.get(\"jsonSchema\"))).to.be.true;",
							"});"
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "dbe196bf-b7ea-446d-82db-db348c19250a",
						"type": "text/javascript",
						"exec": [
							"var jsonSchema = {\"$id\":\"http://example.com/example.json\",\"type\":\"object\",\"definitions\":{},\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"properties\":{\"name\":{\"$id\":\"/properties/name\",\"type\":\"string\",\"title\":\"The Name Schema \",\"default\":\"\",\"examples\":[\"Luke Skywalker\"]},\"height\":{\"$id\":\"/properties/height\",\"type\":\"string\",\"title\":\"The Height Schema \",\"default\":\"\",\"examples\":[\"172\"]},\"mass\":{\"$id\":\"/properties/mass\",\"type\":\"string\",\"title\":\"The Mass Schema \",\"default\":\"\",\"examples\":[\"77\"]},\"hair_color\":{\"$id\":\"/properties/hair_color\",\"type\":\"string\",\"title\":\"The Hair_color Schema \",\"default\":\"\",\"examples\":[\"blond\"]},\"skin_color\":{\"$id\":\"/properties/skin_color\",\"type\":\"string\",\"title\":\"The Skin_color Schema \",\"default\":\"\",\"examples\":[\"fair\"]},\"eye_color\":{\"$id\":\"/properties/eye_color\",\"type\":\"string\",\"title\":\"The Eye_color Schema \",\"default\":\"\",\"examples\":[\"blue\"]},\"birth_year\":{\"$id\":\"/properties/birth_year\",\"type\":\"string\",\"title\":\"The Birth_year Schema \",\"default\":\"\",\"examples\":[\"19BBY\"]},\"gender\":{\"$id\":\"/properties/gender\",\"type\":\"string\",\"title\":\"The Gender Schema \",\"default\":\"\",\"examples\":[\"male\"]},\"homeworld\":{\"$id\":\"/properties/homeworld\",\"type\":\"string\",\"title\":\"The Homeworld Schema \",\"default\":\"\",\"examples\":[\"https://swapi.co/api/planets/1/\"]},\"films\":{\"$id\":\"/properties/films\",\"type\":\"array\",\"items\":{\"$id\":\"/properties/films/items\",\"type\":\"string\",\"title\":\"The 0th Schema \",\"default\":\"\",\"examples\":[\"https://swapi.co/api/films/2/\",\"https://swapi.co/api/films/6/\",\"https://swapi.co/api/films/3/\",\"https://swapi.co/api/films/1/\",\"https://swapi.co/api/films/7/\"]}},\"species\":{\"$id\":\"/properties/species\",\"type\":\"array\",\"items\":{\"$id\":\"/properties/species/items\",\"type\":\"string\",\"title\":\"The 0th Schema \",\"default\":\"\",\"examples\":[\"https://swapi.co/api/species/1/\"]}},\"vehicles\":{\"$id\":\"/properties/vehicles\",\"type\":\"array\",\"items\":{\"$id\":\"/properties/vehicles/items\",\"type\":\"string\",\"title\":\"The 0th Schema \",\"default\":\"\",\"examples\":[\"https://swapi.co/api/vehicles/14/\",\"https://swapi.co/api/vehicles/30/\"]}},\"starships\":{\"$id\":\"/properties/starships\",\"type\":\"array\",\"items\":{\"$id\":\"/properties/starships/items\",\"type\":\"string\",\"title\":\"The 0th Schema \",\"default\":\"\",\"examples\":[\"https://swapi.co/api/starships/12/\",\"https://swapi.co/api/starships/22/\"]}},\"created\":{\"$id\":\"/properties/created\",\"type\":\"string\",\"title\":\"The Created Schema \",\"default\":\"\",\"examples\":[\"2014-12-09T13:50:51.644000Z\"]},\"edited\":{\"$id\":\"/properties/edited\",\"type\":\"string\",\"title\":\"The Edited Schema \",\"default\":\"\",\"examples\":[\"2014-12-20T21:17:56.891000Z\"]},\"url\":{\"$id\":\"/properties/url\",\"type\":\"string\",\"title\":\"The Url Schema \",\"default\":\"\",\"examples\":[\"https://swapi.co/api/people/1/\"]}},\"required\":[\"name\",\"height\",\"mass\",\"hair_color\",\"skin_color\",\"eye_color\",\"birth_year\",\"gender\",\"homeworld\",\"films\",\"species\",\"vehicles\",\"starships\",\"created\",\"edited\",\"url\"]};",
							"",
							"pm.globals.set(\"jsonSchema\", jsonSchema);",
							""
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "accept-language",
						"value": "en-US,en;q=0.9"
					}
				],
				"body": {},
				"url": {
					"raw": "{{person1}}",
					"host": [
						"{{person1}}"
					]
				}
			},
			"response": []
		}
	]
}